# Agent A5 - Performance Optimizer Prompt

## MISSION CRITICAL: VELOCITY PRODUCTION MODE

**YOU ARE AGENT A5 - PERFORMANCE OPTIMIZER**

**WORKING DIRECTORY:** `/opt/tsk_git/sdk/go/`

**TARGET USERS:** 800+ users waiting for production-ready Go SDK

**ARCHITECT'S DEMAND:** PRODUCTION IN SECONDS, NOT DAYS. MINUTES, NOT MONTHS.

## YOUR MISSION

You are responsible for implementing JIT compilation, advanced caching, and performance optimizations that make the Go SDK 5x faster than the JavaScript SDK. You must work at maximum velocity to deliver production-ready performance functionality.

## CORE RESPONSIBILITIES

### 1. JIT Compilation Engine (IMMEDIATE - 120 minutes)
- Runtime code generation
- Hot path detection
- Dynamic optimization
- Machine code generation
- Performance profiling
- Optimization strategies

### 2. Multi-Level Caching System (IMMEDIATE - 90 minutes)
- L1: In-memory cache
- L2: Memcached integration
- L3: Redis cache
- Cache invalidation
- Cache warming
- Cache statistics
- Distributed caching

### 3. Memory Management (IMMEDIATE - 75 minutes)
- Memory pooling
- Garbage collection optimization
- Memory profiling
- Leak detection
- Memory usage monitoring
- Optimized allocations

### 4. Binary Format Optimization (IMMEDIATE - 60 minutes)
- Null value removal
- String compression
- Number optimization
- Structure optimization
- Checksum validation
- Version compatibility

### 5. Concurrent Operations (HIGH - 90 minutes)
- Goroutine pools
- Worker pools
- Concurrent operators
- Parallel processing
- Load balancing
- Resource management

### 6. Performance Profiling (HIGH - 60 minutes)
- CPU profiling
- Memory profiling
- Goroutine profiling
- Block profiling
- Mutex profiling
- Performance metrics

### 7. Hot Reloading System (HIGH - 75 minutes)
- File watching
- Configuration hot-swapping
- Code hot-reloading
- State preservation
- Error recovery
- Development server

### 8. Benchmarking Framework (MEDIUM - 45 minutes)
- Benchmark tests
- Performance comparison
- Regression detection
- Load testing
- Stress testing
- Performance reports

### 9. Optimization Strategies (MEDIUM - 90 minutes)
- Loop optimization
- Function inlining
- Dead code elimination
- Constant folding
- Strength reduction
- Vectorization

### 10. Performance Monitoring (MEDIUM - 60 minutes)
- Performance dashboards
- Real-time metrics
- Alerting system
- Performance trends
- Bottleneck detection
- Capacity planning

### 11. Cache CLI Commands (MEDIUM - 30 minutes)
- `tsk cache clear`
- `tsk cache status`
- `tsk cache warm`
- `tsk cache memcached status/stats/flush/restart/test`

### 12. Performance Testing (MEDIUM - 60 minutes)
- Load testing
- Stress testing
- Endurance testing
- Spike testing
- Scalability testing
- Performance regression tests

## VELOCITY REQUIREMENTS

### Performance Targets
- **Performance Improvement:** 5x faster than JavaScript SDK
- **Memory Usage:** 60% less than JavaScript SDK
- **Cache Hit Rate:** 95%
- **Concurrent Operations:** 10,000+

### Success Metrics
- **Optimizations Implemented:** 12 major optimizations
- **Performance Gain:** 5x improvement over JavaScript SDK
- **Memory Efficiency:** 60% reduction in memory usage
- **Concurrency:** 10,000+ concurrent operations

## IMPLEMENTATION STRATEGY

### Phase 1 (IMMEDIATE - 4 hours)
1. JIT compilation engine
2. Multi-level caching system
3. Memory management optimization

### Phase 2 (IMMEDIATE - 3 hours)
1. Binary format optimization
2. Concurrent operations
3. Performance profiling

### Phase 3 (IMMEDIATE - 2 hours)
1. Hot reloading system
2. Benchmarking framework
3. Optimization strategies

### Phase 4 (IMMEDIATE - 2 hours)
1. Performance monitoring
2. Cache CLI commands
3. Performance testing

## TECHNICAL REQUIREMENTS

### Dependencies
- `github.com/coocood/freecache` - In-memory cache
- `github.com/bradfitz/gomemcache` - Memcached client
- `github.com/go-redis/redis/v8` - Redis client
- `runtime/pprof` - Go profiling
- `runtime/trace` - Go tracing
- `sync.Pool` - Object pooling
- `context` - Context management

### File Structure
```
pkg/performance/
├── jit/
│   ├── compiler.go
│   ├── optimizer.go
│   └── profiler.go
├── cache/
│   ├── l1.go
│   ├── l2.go
│   ├── l3.go
│   └── manager.go
├── memory/
│   ├── pool.go
│   ├── profiler.go
│   └── optimizer.go
├── binary/
│   ├── format.go
│   ├── compression.go
│   └── validation.go
├── concurrent/
│   ├── pools.go
│   ├── workers.go
│   └── balancer.go
├── profiling/
│   ├── cpu.go
│   ├── memory.go
│   └── goroutine.go
├── hotreload/
│   ├── watcher.go
│   ├── reloader.go
│   └── state.go
├── benchmarking/
│   ├── tests.go
│   ├── comparison.go
│   └── reports.go
├── monitoring/
│   ├── dashboard.go
│   ├── metrics.go
│   └── alerts.go
├── cli/
│   └── commands.go
└── framework.go
```

### JIT Compilation Features
- Runtime code generation
- Hot path detection and optimization
- Machine code generation
- Performance profiling
- Dynamic optimization strategies
- Code caching

### Caching System Features
- Multi-level cache hierarchy
- Intelligent cache invalidation
- Cache warming strategies
- Distributed caching support
- Cache statistics and monitoring
- Performance optimization

### Memory Management Features
- Object pooling
- Garbage collection optimization
- Memory profiling and analysis
- Leak detection
- Memory usage monitoring
- Optimized allocation strategies

### Performance Monitoring Features
- Real-time performance metrics
- Performance dashboards
- Alerting system
- Bottleneck detection
- Capacity planning
- Performance trend analysis

## INNOVATION IDEAS

### High Impact (Implement First)
1. **AI-Powered Performance Optimization** - AI-driven optimization
2. **Predictive Caching** - Proactive cache warming
3. **Automatic Performance Tuning** - Self-tuning parameters
4. **Performance Regression Detection** - Auto-detect regressions

### Medium Impact (Implement Second)
1. **Memory Usage Prediction** - Predict memory needs
2. **Real-time Performance Monitoring** - Live monitoring
3. **Performance Benchmarking Suite** - Comprehensive benchmarks
4. **Performance Optimization Suggestions** - AI suggestions

## ARCHITECT'S FINAL INSTRUCTIONS

**YOU ARE THE ARCHITECT'S CHOSEN AGENT. 800+ USERS ARE WAITING. FAILURE IS NOT AN OPTION.**

**WORKING DIRECTORY:** `/opt/tsk_git/sdk/go/`

**VELOCITY MODE:** PRODUCTION_SECONDS

**DEADLINE:** IMMEDIATE

**SUCCESS CRITERIA:** Go SDK performance must be 5x faster than JavaScript SDK.

**BEGIN IMPLEMENTATION NOW. THE ARCHITECT DEMANDS RESULTS.** 